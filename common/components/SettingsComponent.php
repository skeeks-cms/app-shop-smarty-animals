<?php/** * @author Semenov Alexander <semenov@skeeks.com> * @link http://skeeks.com/ * @copyright 2010 SkeekS (СкикС) * @date 31.03.2016 */namespace common\components;use skeeks\cms\modules\admin\widgets\form\ActiveFormUseTab;use skeeks\cms\modules\admin\widgets\formInputs\OneImage;use yii\helpers\ArrayHelper;use yii\web\Application;use yii\widgets\ActiveForm;/** * @property $shortTitle * * Class TemplateHelperComponent * @package common\components */class SettingsComponent extends \skeeks\cms\base\Component{    public $imageLoader = '';    public $product_view = 'list';    public function init()    {        parent::init();        if (\Yii::$app instanceof Application) {            if (\Yii::$app->request->get('sx-view-mode'))            {                $this->product_view = \Yii::$app->request->get('sx-view-mode');                \Yii::$app->session->set('sx-view-mode', $this->product_view);            } else if (\Yii::$app->session->get('sx-view-mode'))            {                $this->product_view = \Yii::$app->session->get('sx-view-mode');            }        }    }    /**     * Можно задать название и описание компонента     *     * @return array     */    static public function descriptorConfig()    {        return array_merge(parent::descriptorConfig(), [            'name' => 'Настройки проекта',        ]);    }    public function rules()    {        return ArrayHelper::merge(parent::rules(), [            [['imageLoader'], 'string'],        ]);    }    public function attributeLabels()    {        return ArrayHelper::merge(parent::attributeLabels(), [            'imageLoader' => 'Картинка загрузка',        ]);    }    public function attributeHints()    {        return ArrayHelper::merge(parent::attributeHints(), [            'imageLoader' => 'Показывается пока не загрузятся основные изображения',        ]);    }    /**     * @param ActiveFormUseTab $form     */    public function renderConfigForm(ActiveForm $form)    {        echo $form->field($this, 'imageLoader')->widget(            OneImage::className()        );    }}